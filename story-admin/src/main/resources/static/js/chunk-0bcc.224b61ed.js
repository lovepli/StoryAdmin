(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0bcc"],{"0o/s":function(t,e,o){},"8POO":function(t,e,o){"use strict";var n=o("0o/s");o.n(n).a},Yfch:function(t,e,o){"use strict";function n(t){return!0}o.d(e,"a",function(){return n})},c11S:function(t,e,o){"use strict";var n=o("fN6i");o.n(n).a},fN6i:function(t,e,o){},ntYl:function(t,e,o){"use strict";o.r(e);var n=o("Yfch"),i=o("g9Z0"),a=o.n(i),s=o("fe1z"),r={name:"Login",data:function(){return{loginForm:{username:"admin",password:"111111",rememberMe:!0,code:"",uuid:""},codeUrl:"",loginRules:{username:[{required:!0,trigger:"blur",validator:function(t,e,o){Object(n.a)(e)&&0!==e.length?o():o(new Error("请输入正确的用户名"))}}],password:[{required:!0,trigger:"blur",validator:function(t,e,o){e.length<5?o(new Error("密码不能小于5位")):o()}}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},loading:!1,pwdType:"password",capsTooltip:!1,redirect:void 0,title:a.a.title}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},created:function(){this.getCode()},methods:{getCode:function(){var t=this;Object(s.a)().then(function(e){t.codeUrl="data:image/gif;base64,"+e.data.img,t.loginForm.uuid=e.data.uuid})},checkCapslock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shiftKey,o=t.key;o&&1===o.length&&(this.capsTooltip=!!(e&&o>="a"&&o<="z"||!e&&o>="A"&&o<="Z")),"CapsLock"===o&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return console.log("错误提交，请重新提交！"),!1;t.loading=!0,t.$store.dispatch("Login",t.loginForm).then(function(){t.loading=!1,t.$router.push({path:t.redirect||"/"})}).catch(function(){t.loading=!1,t.getCode(),console.log("catch error submit!!")})})}}},l=(o("c11S"),o("8POO"),o("ZrdR")),c=Object(l.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-container"},[o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[o("h3",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),o("el-form-item",{attrs:{prop:"username"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),o("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"默认账号admin"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),o("el-tooltip",{attrs:{content:"大写开启",placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(e){t.capsTooltip=e},expression:"capsTooltip"}},[o("el-form-item",{attrs:{prop:"password"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),o("el-input",{attrs:{type:t.pwdType,name:"password","auto-complete":"on",placeholder:"默认密码，6个1"},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:[function(e){return t.checkCapslock(e)},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}]},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),t._v(" "),o("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[o("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1)],1),t._v(" "),o("el-form-item",{attrs:{prop:"code"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"validCode"}})],1),t._v(" "),o("el-input",{staticStyle:{width:"70%"},attrs:{"auto-complete":"off",placeholder:"请输入验证码"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}},model:{value:t.loginForm.code,callback:function(e){t.$set(t.loginForm,"code",e)},expression:"loginForm.code"}}),t._v(" "),o("div",{staticClass:"login-code"},[o("img",{staticClass:"login-code-img",attrs:{src:t.codeUrl},on:{click:t.getCode}})])],1),t._v(" "),o("el-row",[o("el-checkbox",{staticStyle:{float:"right",margin:"0px 0px 25px 0px"},model:{value:t.loginForm.rememberMe,callback:function(e){t.$set(t.loginForm,"rememberMe",e)},expression:"loginForm.rememberMe"}},[t._v("记住密码")])],1),t._v(" "),o("el-row",{staticStyle:{"margin-bottom":"30px"},attrs:{gutter:20}},[o("el-col",{attrs:{span:8}},[o("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登陆")])],1),t._v(" "),o("el-col",{attrs:{span:8}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"不能自主注册，请联系管理员分配账号。",placement:"bottom-start"}},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"info"}},[t._v("注册")])],1)],1),t._v(" "),o("el-col",{attrs:{span:8}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"请尝试使用初始密码111111。如果还是登录失败，请联系管理员进行密码重置。",placement:"bottom-start"}},[o("el-button",{staticStyle:{width:"100%"},attrs:{icon:"el-icon-question",type:"warning"}},[t._v("忘记密码")])],1)],1)],1),t._v(" "),o("div",{staticStyle:{position:"relative"}},[o("div",{staticClass:"tips"},[o("span")])])],1)],1)},[],!1,null,"5ac3da24",null);c.options.__file="index.vue";e.default=c.exports}}]);