(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-18c7"],{KIsr:function(t,e,n){"use strict";n.r(e);var r=n("PIdY"),i=n("P14b"),o=n("7Qib"),a={name:"InformInfo",data:function(){return{inform:void 0,statusLabel:["已撤销","有效","已过期"],statusType:["info","success","warning"]}},computed:{id:function(){return this.$route.params.id}},created:function(){var t=this;this.inform=void 0,Object(r.b)(this.id).then(function(e){t.inform=e.data,t.inform.segments=t.inform.content?t.inform.content.split("\n").filter(function(t){return t.length>0}):[],t.$emit("custom-tag","公告:"+t.inform.title)}).catch(function(t){})},methods:{parseDate:function(t){return Object(o.f)(t,"{y}年{m}月{d}日{h}:{i}:{s}")},download:function(t){var e=this;Object(i.b)(t.id).then(function(e){if(e){var n=window.URL.createObjectURL(new Blob([e])),r=document.createElement("a");r.style.display="none",r.href=n,r.setAttribute("download",t.fileName),document.body.appendChild(r),r.click()}}).catch(function(t){e.$message.error("下载失败")})},fileSizeCalc:function(t){return t.fileSize?Object(o.d)(t.fileSize/1e6,2)+" MB":"——"}}},c=n("ZrdR"),s=Object(c.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[t.inform?n("div",{staticStyle:{padding:"0px 200px"}},[n("div",{staticStyle:{"text-align":"center"}},[n("h1",[t._v(t._s(t.inform.title))])]),t._v(" "),n("div",{staticStyle:{"text-align":"right",color:"#555","margin-bottom":"40px"}},[n("a",[t._v("发布/"+t._s(t.inform.creatorName))]),t._v(" "),n("a",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(t.parseDate(t.inform.createDate)))]),t._v(" "),n("el-tag",{staticStyle:{"margin-left":"30px"},attrs:{type:t.statusType[t.inform.status],size:"mini"}},[t._v(t._s(t.statusLabel[t.inform.status]))])],1),t._v(" "),t.inform&&0!==t.inform.status?n("div",[t._l(t.inform.segments,function(e,r){return n("p",{key:r,staticStyle:{"text-indent":"2em","font-size":"17px"}},[t._v(t._s(e))])}),t._v(" "),n("el-table",{staticStyle:{width:"100%","margin-top":"100px"},attrs:{data:t.inform.attachmentsToShow,border:"","highlight-current-row":"",fit:""}},[n("el-table-column",{attrs:{label:"附件列表",align:"center"}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"70px"}}),t._v(" "),n("el-table-column",{attrs:{formatter:function(t){return t.fileName},label:"名称",align:"center","min-width":"100px"}}),t._v(" "),n("el-table-column",{attrs:{formatter:t.fileSizeCalc,label:"大小",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-download"},on:{click:function(e){t.download(r)}}},[t._v("下载")])]}}])})],1)],1)],2):t._e(),t._v(" "),t.inform&&0===t.inform.status?n("div",{staticStyle:{"text-align":"center"}},[n("h4",[t._v("该公告已被管理员撤销，无法查看内容！")])]):t._e()]):t._e()])},[],!1,null,null,null);s.options.__file="index.vue";e.default=s.exports},P14b:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("t3Un"),i=n("z0WU");function o(t,e){var n=new FormData;return n.append("file",t),Object(r.a)({url:"/sysmgr/file/upload?"+Object(i.c)(e),method:"post",data:n})}function a(t){return Object(r.a)({url:"/sysmgr/file/"+t,method:"delete"})}function c(t){return Object(r.a)({url:"/sysmgr/file/download/"+t,method:"get",responseType:"blob"})}},PIdY:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"e",function(){return f});var r=n("t3Un"),i=n("z0WU");function o(t,e){var n={status:t.status,title:t.title,creatorId:t.creatorId,tf:t.topFirst,page:e.num,limit:e.size},o=t.requestDate;return o&&2===o.length&&(n.sd=o[0].getTime(),n.ed=o[1].getTime()),Object(r.a)({url:"/sysmgr/inform/list?"+Object(i.c)(n),method:"get"})}function a(t){return Object(r.a)({url:"/inform/"+t,method:"get"})}function c(t){return Object(r.a)({url:"/sysmgr/inform/"+t+"/outdate",method:"post"})}function s(t){return Object(r.a)({url:"/sysmgr/inform/"+t+"/cancel",method:"post"})}function u(t){return Object(r.a)({url:"/sysmgr/inform/"+t+"/untop",method:"post"})}function l(t){return Object(r.a)({url:"/sysmgr/inform/"+t+"/top",method:"post"})}function f(t){var e=t.expiration;return e&&e.getTime&&(t.expiration=e.getTime()),Object(r.a)({url:"/sysmgr/inform/save",method:"post",data:t})}}}]);